# üîÑ SSL Monitor Pro: –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è GitHub ‚Üí GitLab

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è](#—Ç–µ–∫—É—â–∞—è-—Å–∏—Ç—É–∞—Ü–∏—è)
2. [–ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏](#–ø–ª–∞–Ω-–º–∏–≥—Ä–∞—Ü–∏–∏)
3. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
4. [–ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–¥–∞](#–º–∏–≥—Ä–∞—Ü–∏—è-–∫–æ–¥–∞)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–≤–Ω–µ—à–Ω–∏—Ö-—Å–µ—Ä–≤–∏—Å–æ–≤)
6. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
7. [–û—Ç–∫–ª—é—á–µ–Ω–∏–µ GitHub](#–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ-github)
8. [–ß–µ–∫–ª–∏—Å—Ç](#—á–µ–∫–ª–∏—Å—Ç)

---

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å (GitHub):
```
GitHub Repository: root/ssl-monitor-pro
‚îú‚îÄ‚îÄ Backend deployed ‚Üí Render.com (auto-deploy from GitHub)
‚îú‚îÄ‚îÄ Frontend deployed ‚Üí Cloudflare Pages (auto-deploy from GitHub)
‚îú‚îÄ‚îÄ GitLab CI/CD ‚Üí CI/CD pipeline –∞–∫—Ç–∏–≤–µ–Ω
‚îú‚îÄ‚îÄ Webhooks ‚Üí GitHub webhooks –¥–ª—è –¥–µ–ø–ª–æ—è
‚îî‚îÄ‚îÄ Production ‚Üí –ñ–∏–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```

### üéØ –¶–µ–ª—å –º–∏–≥—Ä–∞—Ü–∏–∏ (GitLab):
```
GitLab Repository: root/ssl-monitor-pro
‚îú‚îÄ‚îÄ Backend deployed ‚Üí Render.com (auto-deploy from GitLab)
‚îú‚îÄ‚îÄ Frontend deployed ‚Üí Cloudflare Pages (auto-deploy from GitLab)
‚îú‚îÄ‚îÄ GitLab CI/CD ‚Üí Pipeline –∞–∫—Ç–∏–≤–µ–Ω
‚îú‚îÄ‚îÄ Webhooks ‚Üí GitLab webhooks –¥–ª—è –¥–µ–ø–ª–æ—è
‚îî‚îÄ‚îÄ Production ‚Üí –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –±–µ–∑ downtime
```

---

## üìù –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ (2-3 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã)

### Phase 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (30 –º–∏–Ω—É—Ç)
- [ ] Backup —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è GitHub
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ GitLab —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ credentials
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

### Phase 2: GitLab –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (45 –º–∏–Ω—É—Ç)
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD Variables –≤ GitLab
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ .gitlab-ci.yml
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ pipeline
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Protected Branches

### Phase 3: –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (60 –º–∏–Ω—É—Ç)
- [ ] Render.com - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ GitLab
- [ ] Cloudflare Pages - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ GitLab
- [ ] Stripe Webhooks - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ URLs
- [ ] Telegram Bot - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ URLs
- [ ] Slack - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ URLs

### Phase 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω—É—Ç)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ CI/CD pipeline
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–ª–æ–π
- [ ] Smoke tests production
- [ ] Rollback –ø–ª–∞–Ω

### Phase 5: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ (15 –º–∏–Ω—É—Ç)
- [ ] –§–∏–Ω–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π —Å GitLab
- [ ] –û—Ç–∫–ª—é—á–µ–Ω–∏–µ GitHub auto-deploy
- [ ] –ê—Ä—Ö–∏–≤–∞—Ü–∏—è GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

---

## üîß PHASE 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –ó–∞–¥–∞—á–∞ 1.1: Backup GitHub –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:**

```bash
# 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ GitHub Secrets
echo "üìù GitHub Secrets Backup"
echo "========================"
echo "RENDER_DEPLOY_HOOK_URL"
echo "CLOUDFLARE_API_TOKEN"
echo "STRIPE_SECRET_KEY"
echo "STRIPE_WEBHOOK_SECRET"
echo "TELEGRAM_BOT_TOKEN"
echo "SLACK_WEBHOOK_URL"
echo "SENTRY_DSN"
# ... –∏ –¥—Ä—É–≥–∏–µ

# 2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å GitLab CI/CD workflows
mkdir -p backup/github-actions
cp -r .github/workflows backup/github-actions/

# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–µ URLs –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
cat > backup/github-config.txt <<EOF
# GitHub Repository Info
Repo: https://192.168.1.10/root/ssl-monitor-pro
SSH: http://192.168.1.10/root/ssl-monitor-pro.git

# Render.com
Backend URL: https://ssl-monitor-api.onrender.com
Deploy Hook: [—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑ GitHub Secrets]

# Cloudflare Pages
Frontend URL: https://cloudsre.xyz
Project: ssl-monitor-pro

# Webhooks
Stripe: https://ssl-monitor-api.onrender.com/api/v1/stripe/webhook
Telegram: https://ssl-monitor-api.onrender.com/api/v1/telegram/webhook
Slack: https://ssl-monitor-api.onrender.com/api/v1/slack/webhook
EOF
```

### –ó–∞–¥–∞—á–∞ 1.2: –ü—Ä–æ–≤–µ—Ä–∫–∞ GitLab —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π remote
git remote -v

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# gitlab  http://root:TOKEN@192.168.1.10/root/ssl-monitor-pro.git (fetch)
# gitlab  http://root:TOKEN@192.168.1.10/root/ssl-monitor-pro.git (push)

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
git fetch gitlab
git status

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ
ls -la
```

### –ó–∞–¥–∞—á–∞ 1.3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ credentials

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è credentials:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ñ–∞–π–ª
touch .migration-secrets
chmod 600 .migration-secrets

# 2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ–º–∏ secrets –∏–∑ GitHub
# –°–º. .migration-secrets.template –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
```

---

## ‚öôÔ∏è PHASE 2: GitLab –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ó–∞–¥–∞—á–∞ 2.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD Variables –≤ GitLab

**–ì–¥–µ:** GitLab ‚Üí Settings ‚Üí CI/CD ‚Üí Variables

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ .migration-secrets –∑–∞–ø–æ–ª–Ω–µ–Ω
cat .migration-secrets

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
./scripts/setup-gitlab-vars.sh

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ GitLab UI
# GitLab ‚Üí Settings ‚Üí CI/CD ‚Üí Variables
```

### –ó–∞–¥–∞—á–∞ 2.2: –ü—Ä–æ–≤–µ—Ä–∫–∞ .gitlab-ci.yml

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ stages –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
cat .gitlab-ci.yml

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
grep -E '\$[A-Z_]+' .gitlab-ci.yml

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ setup-gitlab-vars.sh
```

**–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ pipeline:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≤–µ—Ç–∫—É
git checkout -b test-gitlab-pipeline

# 2. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ
echo "# Test pipeline" >> README.md
git add README.md
git commit -m "test: trigger GitLab pipeline"

# 3. Push –≤ GitLab
git push gitlab test-gitlab-pipeline

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å pipeline –≤ GitLab
# GitLab ‚Üí CI/CD ‚Üí Pipelines
# –î–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è pipeline —Å 4 stages: test, build, deploy, notify

# 5. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ - —É–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≤–µ—Ç–∫—É
git checkout main
git branch -D test-gitlab-pipeline
git push gitlab --delete test-gitlab-pipeline
```

### –ó–∞–¥–∞—á–∞ 2.3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Protected Branches

**–í GitLab UI:**

1. Settings ‚Üí Repository ‚Üí Protected Branches
2. Protect branch: `main`
3. Allowed to merge: `Maintainers`
4. Allowed to push: `No one`
5. Allowed to force push: ‚ùå Disabled

---

## üîå PHASE 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –ó–∞–¥–∞—á–∞ 3.1: Render.com - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ GitLab

**üéØ –¶–µ–ª—å:** –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å Render.com –¥–µ–ø–ª–æ–π —Å GitHub –Ω–∞ GitLab

**–û–ø—Ü–∏—è A: –ß–µ—Ä–µ–∑ Render.com UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. **–ó–∞–π—Ç–∏ –≤ Render.com Dashboard:**
   - https://dashboard.render.com
   - –ù–∞–π—Ç–∏ —Å–µ—Ä–≤–∏—Å: `ssl-monitor-api`

2. **Settings ‚Üí Build & Deploy:**
   ```
   –¢–µ–∫—É—â–µ–µ (GitHub):
   Repository: 192.168.1.10/root/ssl-monitor-pro
   Branch: main
   Auto-Deploy: Yes
   
   –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ (GitLab):
   Repository: MANUAL - –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Deploy Hook
   Branch: main
   Auto-Deploy: Via GitLab CI/CD
   ```

3. **–ü–æ–ª—É—á–∏—Ç—å Deploy Hook URL:**
   - Settings ‚Üí Deploy Hook
   - Copy URL: `https://api.render.com/deploy/srv-xxxxx?key=xxxxx`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ GitLab Variables –∫–∞–∫ `RENDER_DEPLOY_HOOK_URL`

4. **–û—Ç–∫–ª—é—á–∏—Ç—å GitHub Auto-Deploy:**
   - Settings ‚Üí Build & Deploy
   - Auto-Deploy: **Disabled**
   - Manual Deploy Only: **Enabled**

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```bash
# –¢–µ—Å—Ç –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ Deploy Hook
curl -X POST https://api.render.com/deploy/srv-xxxxx?key=xxxxx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ Render Dashboard
# –î–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å—Å—è –Ω–æ–≤—ã–π deploy
```

---

### –ó–∞–¥–∞—á–∞ 3.2: Cloudflare Pages - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ GitLab

**üéØ –¶–µ–ª—å:** –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å Cloudflare Pages –¥–µ–ø–ª–æ–π —Å GitHub –Ω–∞ GitLab

**–ú–µ—Ç–æ–¥ 1: –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è GitLab (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)**

1. **Cloudflare Dashboard:**
   - Pages ‚Üí ssl-monitor-pro ‚Üí Settings
   - Build Configuration

2. **Disconnet GitHub:**
   - Source ‚Üí Disconnect GitHub

3. **Connect GitLab:**
   - Source ‚Üí Connect to Git
   - Select: GitLab
   - Repository: `root/ssl-monitor-pro`
   - Branch: `main`
   - Build command: `npm run build`
   - Build output directory: `frontend-modern/dist`

**–ú–µ—Ç–æ–¥ 2: Direct Upload —á–µ—Ä–µ–∑ GitLab CI/CD (–µ—Å–ª–∏ GitLab –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞)**

```yaml
# –í .gitlab-ci.yml —É–∂–µ –µ—Å—Ç—å:
deploy-frontend:
  stage: deploy
  image: node:18-alpine
  before_script:
    - npm install -g wrangler
  script:
    - cd frontend-modern
    - npm ci
    - npm run build
    - npx wrangler pages publish dist --project-name=ssl-monitor-pro
  only:
    - main
  when: manual
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Wrangler:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å Cloudflare API Token
# Cloudflare ‚Üí My Profile ‚Üí API Tokens ‚Üí Create Token
# Template: "Edit Cloudflare Workers"
# Permissions: Account.Cloudflare Pages:Edit

# 2. –î–æ–±–∞–≤–∏—Ç—å –≤ GitLab Variables
# CLOUDFLARE_API_TOKEN = your-token
# CLOUDFLARE_ACCOUNT_ID = your-account-id

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ–ø–ª–æ–π
git commit --allow-empty -m "test: trigger Cloudflare deploy"
git push gitlab main

# –í GitLab Pipeline ‚Üí Manual Jobs ‚Üí deploy-frontend ‚Üí Run
```

---

### –ó–∞–¥–∞—á–∞ 3.3: Stripe Webhooks - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ URLs

**üéØ –¶–µ–ª—å:** Webhooks –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (URLs –Ω–µ –º–µ–Ω—è—é—Ç—Å—è)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```bash
# Stripe Webhooks URLs –ù–ï –º–µ–Ω—è—é—Ç—Å—è, —Ç.–∫. –æ–Ω–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ Render.com
# https://ssl-monitor-api.onrender.com/api/v1/stripe/webhook

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ webhook endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
curl https://ssl-monitor-api.onrender.com/api/v1/stripe/webhook
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 405 Method Not Allowed (—ç—Ç–æ OK, —Ç.–∫. GET –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω)
```

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å:**

1. **Stripe Dashboard:**
   - Developers ‚Üí Webhooks
   - –ù–∞–π—Ç–∏ webhook –¥–ª—è SSL Monitor Pro
   - Endpoint URL: `https://ssl-monitor-api.onrender.com/api/v1/stripe/webhook`
   - Events: `checkout.session.completed`, `customer.subscription.updated`, `customer.subscription.deleted`

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Webhook Secret:**
   - Copy Signing Secret
   - –û–±–Ω–æ–≤–∏—Ç—å –≤ GitLab Variables: `STRIPE_WEBHOOK_SECRET`

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π webhook –∏–∑ Stripe Dashboard
# Stripe ‚Üí Developers ‚Üí Webhooks ‚Üí Send test webhook
# Event: checkout.session.completed
```

---

### –ó–∞–¥–∞—á–∞ 3.4: Telegram Bot - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ URLs

**üéØ –¶–µ–ª—å:** Telegram webhook –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–ü—Ä–æ–≤–µ—Ä–∫–∞ webhook URL:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π webhook
curl "https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getWebhookInfo"

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
# {
#   "url": "https://ssl-monitor-api.onrender.com/api/v1/telegram/webhook",
#   "has_custom_certificate": false,
#   "pending_update_count": 0
# }
```

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å:**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
curl -X POST "https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/setWebhook" \
  -d "url=https://ssl-monitor-api.onrender.com/api/v1/telegram/webhook"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
curl "https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getWebhookInfo"
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É –≤ Telegram
# /start
# /status
# /help

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç
```

---

### –ó–∞–¥–∞—á–∞ 3.5: Slack - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ URLs

**üéØ –¶–µ–ª—å:** Slack webhooks –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```bash
# –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Slack
curl -X POST $SLACK_WEBHOOK_URL \
  -H 'Content-Type: application/json' \
  -d '{
    "text": "üß™ Test: GitLab Migration Complete",
    "blocks": [
      {
        "type": "section",
        "text": {
          "type": "mrkdwn",
          "text": "*SSL Monitor Pro* - GitLab Migration Test\n‚úÖ All systems operational"
        }
      }
    ]
  }'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏—à–ª–æ –≤ Slack
```

**Slack App –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

1. **Slack API Dashboard:**
   - https://api.slack.com/apps
   - –ù–∞–π—Ç–∏ SSL Monitor Pro app

2. **Event Subscriptions:**
   - Request URL: `https://ssl-monitor-api.onrender.com/api/v1/slack/events`
   - Verified: ‚úÖ

3. **Slash Commands:**
   - `/ssl-status` ‚Üí `https://ssl-monitor-api.onrender.com/api/v1/slack/commands`

---

## üß™ PHASE 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–¥–∞—á–∞ 4.1: –ü—Ä–æ–≤–µ—Ä–∫–∞ GitLab CI/CD Pipeline

**–ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç pipeline:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å feature –≤–µ—Ç–∫—É
git checkout -b test/full-pipeline

# 2. –°–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ
echo "# Test full pipeline" >> TESTING.md
git add TESTING.md
git commit -m "test: full CI/CD pipeline test"

# 3. Push –≤ GitLab
git push gitlab test/full-pipeline

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ GitLab:
# - CI/CD ‚Üí Pipelines
# - –î–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ –≤—Å–µ stages:
#   ‚úÖ test (backend-tests, frontend-tests, security-scan)
#   ‚úÖ build (build-backend, build-frontend)
#   ‚úÖ deploy (deploy-production, deploy-frontend) - MANUAL
#   ‚úÖ notify (notify-slack, notify-telegram)

# 5. –ï—Å–ª–∏ –≤—Å–µ –û–ö - merge –≤ main
git checkout main
git merge test/full-pipeline
git push gitlab main
```

### –ó–∞–¥–∞—á–∞ 4.2: –¢–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–ª–æ–π

**–†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitLab:**

```bash
# 1. –í GitLab Pipeline
# CI/CD ‚Üí Pipelines ‚Üí Latest ‚Üí deploy-production ‚Üí Manual Job ‚Üí Run

# 2. –ñ–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend –æ–±–Ω–æ–≤–∏–ª—Å—è
curl https://ssl-monitor-api.onrender.com/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
# {
#   "status": "healthy",
#   "timestamp": 1697219858,
#   "checks": {
#     "database": "ok",
#     "redis": "ok",
#     "ssl_checker": "ok"
#   }
# }

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å frontend
curl https://cloudsre.xyz
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
```

### –ó–∞–¥–∞—á–∞ 4.3: Smoke Tests Production

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å smoke tests
./scripts/smoke-tests.sh

# –î–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã:
# ‚úÖ Backend Health Check
# ‚úÖ API Documentation
# ‚úÖ Frontend Homepage
# ‚úÖ Database Connection
# ‚úÖ Redis Connection
# ‚úÖ SSL Checker Service
# ‚úÖ Stripe Webhook Endpoint
# ‚úÖ Telegram Webhook Endpoint
# ‚úÖ Slack Webhook Endpoint
# ‚úÖ Frontend Static Assets
# ‚úÖ API Response Time
# ‚úÖ Frontend Response Time
# ‚úÖ HTTPS Certificate
# ‚úÖ Database Migration Status
```

### –ó–∞–¥–∞—á–∞ 4.4: Rollback Plan

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:**

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å rollback
./scripts/rollback-to-github.sh

# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ —Å–∫—Ä–∏–ø—Ç–µ
# –≠—Ç–æ –≤–µ—Ä–Ω–µ—Ç —Å–∏—Å—Ç–µ–º—É –∫ GitHub
```

---

## ‚úÇÔ∏è PHASE 5: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ GitHub

### –ó–∞–¥–∞—á–∞ 5.1: –§–∏–Ω–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π —Å GitLab

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö smoke tests:**

```bash
# 1. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
./scripts/smoke-tests.sh

# 2. –°–æ–∑–¥–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π release
git checkout main
git tag -a v1.0.0-gitlab -m "Release: Full migration to GitLab"
git push gitlab main --tags

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π deploy —á–µ—Ä–µ–∑ GitLab
# GitLab ‚Üí CI/CD ‚Üí Pipelines ‚Üí Run Pipeline
# Branch: main
# ‚Üí deploy-production ‚Üí Run

# 4. –ñ–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
./scripts/smoke-tests.sh
```

### –ó–∞–¥–∞—á–∞ 5.2: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ GitHub Auto-Deploy

**Render.com:**

```bash
# –í—Ä—É—á–Ω—É—é –≤ Render Dashboard:
# 1. –ó–∞–π—Ç–∏ –≤ ssl-monitor-api service
# 2. Settings ‚Üí Build & Deploy
# 3. Auto-Deploy: Disabled ‚úÖ
# 4. Manual Deploy Only: Enabled ‚úÖ
```

**Cloudflare Pages:**

```bash
# –í—Ä—É—á–Ω—É—é –≤ Cloudflare Dashboard:
# 1. Pages ‚Üí ssl-monitor-pro
# 2. Settings ‚Üí Build & Deploy
# 3. Disconnect GitHub ‚úÖ
# 4. (GitLab —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ CI/CD)
```

### –ó–∞–¥–∞—á–∞ 5.3: –ê—Ä—Ö–∏–≤–∞—Ü–∏—è GitHub Repository

**‚ö†Ô∏è –ù–ï –£–î–ê–õ–Ø–¢–¨ –°–†–ê–ó–£! –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 30 –¥–Ω–µ–π**

```bash
# 1. –í GitHub Repository Settings:
# Settings ‚Üí Options ‚Üí Danger Zone ‚Üí Archive this repository

# –ò–õ–ò —á–µ—Ä–µ–∑ GitHub CLI:
gh repo archive root/ssl-monitor-pro

# 2. –°–æ–∑–¥–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π backup
git clone http://192.168.1.10/root/ssl-monitor-pro.git backup-github-ssl-monitor
tar -czf backup-github-ssl-monitor-$(date +%Y%m%d).tar.gz backup-github-ssl-monitor/

# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å backup –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ
# - External HDD
# - Cloud storage (Google Drive, Dropbox)
# - NAS storage

# 4. –î–æ–±–∞–≤–∏—Ç—å README –≤ GitHub repo
cat > backup-github-ssl-monitor/ARCHIVED.md <<EOF
# ‚ö†Ô∏è ARCHIVED REPOSITORY

This repository has been migrated to GitLab.

**New Location:**
- GitLab: http://192.168.1.10/root/ssl-monitor-pro
- Production: https://cloudsre.xyz

**Migration Date:** $(date +%Y-%m-%d)

**Reason:** Full migration to self-hosted GitLab for better control and CI/CD

**Backup:** This is a read-only archive for reference purposes.

---

For any questions, contact: your-email@example.com
EOF

git -C backup-github-ssl-monitor add ARCHIVED.md
git -C backup-github-ssl-monitor commit -m "docs: mark repository as archived"
git -C backup-github-ssl-monitor push origin main
```

### –ó–∞–¥–∞—á–∞ 5.4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ GitHub ‚Üí GitLab:**

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫
./scripts/update-links.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git diff

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git add .
git commit -m "docs: update all GitHub links to GitLab"
git push gitlab main
```

---

## ‚úÖ –ü–û–õ–ù–´–ô –ß–ï–ö–õ–ò–°–¢ –ú–ò–ì–†–ê–¶–ò–ò

### Pre-Migration Checklist

- [ ] **Backup —Å–æ–∑–¥–∞–Ω**
  - [ ] GitHub repo —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ
  - [ ] GitLab CI/CD workflows —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
  - [ ] –í—Å–µ secrets –∑–∞–ø–∏—Å–∞–Ω—ã –≤ `.migration-secrets`
  - [ ] URLs –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

- [ ] **GitLab –≥–æ—Ç–æ–≤**
  - [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω –≤ GitLab
  - [ ] Git remote –Ω–∞—Å—Ç—Ä–æ–µ–Ω
  - [ ] –ö–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å GitHub
  - [ ] `.gitlab-ci.yml` –ø—Ä–æ–≤–µ—Ä–µ–Ω

- [ ] **Credentials –≥–æ—Ç–æ–≤—ã**
  - [ ] Render.com API key
  - [ ] Cloudflare API token
  - [ ] –í—Å–µ environment variables —Å–æ–±—Ä–∞–Ω—ã
  - [ ] GitLab access token –ø–æ–ª—É—á–µ–Ω

---

### GitLab Setup Checklist

- [ ] **CI/CD Variables –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã**
  - [ ] `./scripts/setup-gitlab-vars.sh` –∑–∞–ø—É—â–µ–Ω
  - [ ] –í—Å–µ 30+ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ GitLab
  - [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤ GitLab UI (Settings ‚Üí CI/CD ‚Üí Variables)
  - [ ] Sensitive –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ masked

- [ ] **Pipeline —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
  - [ ] –¢–µ—Å—Ç–æ–≤–∞—è –≤–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∞
  - [ ] Pipeline –∑–∞–ø—É—Å—Ç–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ
  - [ ] –í—Å–µ stages –ø—Ä–æ—à–ª–∏: test, build, deploy, notify
  - [ ] Docker images —Å–æ–±—Ä–∞–ª–∏—Å—å –∏ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –≤ Registry

- [ ] **Protected Branches**
  - [ ] Branch `main` –∑–∞—â–∏—â–µ–Ω
  - [ ] Merge —Ç–æ–ª—å–∫–æ –¥–ª—è Maintainers
  - [ ] Push –∑–∞–ø—Ä–µ—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é
  - [ ] Force push –æ—Ç–∫–ª—é—á–µ–Ω

---

### External Services Checklist

- [ ] **Render.com**
  - [ ] GitHub auto-deploy –æ—Ç–∫–ª—é—á–µ–Ω
  - [ ] Deploy Hook URL –ø–æ–ª—É—á–µ–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitLab
  - [ ] –¢–µ—Å—Ç–æ–≤—ã–π deploy —á–µ—Ä–µ–∑ webhook —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Environment variables –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
  - [ ] Health check endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç

- [ ] **Cloudflare Pages**
  - [ ] GitHub disconnected (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Direct Upload)
  - [ ] Wrangler –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ GitLab CI/CD
  - [ ] API token –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitLab Variables
  - [ ] –¢–µ—Å—Ç–æ–≤—ã–π deploy —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Custom domain —Ä–∞–±–æ—Ç–∞–µ—Ç (cloudsre.xyz)

- [ ] **Stripe**
  - [ ] Webhooks URLs –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã (–Ω–µ –º–µ–Ω—è—é—Ç—Å—è)
  - [ ] Webhook endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Signing secret –∞–∫—Ç—É–∞–ª–µ–Ω
  - [ ] –¢–µ—Å—Ç–æ–≤—ã–π webhook –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω

- [ ] **Telegram**
  - [ ] Webhook URL –ø—Ä–æ–≤–µ—Ä–µ–Ω
  - [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
  - [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
  - [ ] Bot token –≤ GitLab Variables

- [ ] **Slack**
  - [ ] Webhook URL —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
  - [ ] Event subscriptions –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
  - [ ] Slash commands —Ä–∞–±–æ—Ç–∞—é—Ç

- [ ] **Sentry**
  - [ ] DSN –≤ GitLab Variables
  - [ ] Error tracking —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Releases –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ GitLab
  - [ ] Source maps –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

---

### Testing Checklist

- [ ] **Pipeline Tests**
  - [ ] Backend tests –ø—Ä–æ—Ö–æ–¥—è—Ç
  - [ ] Frontend tests –ø—Ä–æ—Ö–æ–¥—è—Ç
  - [ ] Security scanning —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Coverage >70%

- [ ] **Smoke Tests**
  - [ ] `./scripts/smoke-tests.sh` –∑–∞–ø—É—â–µ–Ω
  - [ ] Backend health check: ‚úÖ
  - [ ] Frontend –¥–æ—Å—Ç—É–ø–µ–Ω: ‚úÖ
  - [ ] Database connected: ‚úÖ
  - [ ] Redis connected: ‚úÖ
  - [ ] All webhooks work: ‚úÖ

- [ ] **End-to-End Tests**
  - [ ] User registration —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Login —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Domain –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] SSL check —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] Notifications –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
  - [ ] Payments —Ä–∞–±–æ—Ç–∞—é—Ç (Stripe test mode)

- [ ] **Performance Tests**
  - [ ] API response time <200ms
  - [ ] Frontend load time <2s
  - [ ] SSL check <10s
  - [ ] No errors in browser console
  - [ ] No errors in Sentry

---

### Production Deployment Checklist

- [ ] **Pre-Deploy**
  - [ ] All smoke tests passed
  - [ ] All environment variables set
  - [ ] Database migrations ready
  - [ ] Rollback plan documented

- [ ] **Deploy**
  - [ ] GitLab Pipeline triggered
  - [ ] All stages completed successfully
  - [ ] Backend deployed to Render
  - [ ] Frontend deployed to Cloudflare
  - [ ] Health checks passing

- [ ] **Post-Deploy**
  - [ ] Smoke tests run again
  - [ ] User notifications sent
  - [ ] Monitoring active (Sentry, Prometheus)
  - [ ] No critical errors in logs

- [ ] **Verification**
  - [ ] Production URL works: https://cloudsre.xyz
  - [ ] API works: https://ssl-monitor-api.onrender.com
  - [ ] User login works
  - [ ] SSL monitoring works
  - [ ] Payments work
  - [ ] All integrations work (Telegram, Slack, Stripe)

---

### GitHub Shutdown Checklist

- [ ] **Pre-Shutdown**
  - [ ] GitLab fully operational for 7+ days
  - [ ] Zero critical issues
  - [ ] All users migrated
  - [ ] All data migrated

- [ ] **Disable GitHub**
  - [ ] GitHub auto-deploy disabled on Render
  - [ ] GitHub disconnected from Cloudflare
  - [ ] GitLab CI/CD workflows disabled
  - [ ] GitHub webhooks disabled

- [ ] **Archive GitHub**
  - [ ] Full backup created
  - [ ] Backup stored securely (3 locations)
  - [ ] ARCHIVED.md added to GitHub repo
  - [ ] Repository marked as archived
  - [ ] Team notified of archive

- [ ] **Documentation**
  - [ ] All links updated (GitHub ‚Üí GitLab)
  - [ ] README updated
  - [ ] CONTRIBUTING updated
  - [ ] Wiki updated (if exists)

---

## üìä –ü–û–°–¢–ú–ò–ì–†–ê–¶–ò–û–ù–ù–´–ô –ú–û–ù–ò–¢–û–†–ò–ù–ì

### Week 1 –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

**–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

```bash
#!/bin/bash
# scripts/daily-health-check.sh

echo "üìä Daily Health Check - $(date)"
echo "================================"

# 1. GitLab Pipeline Status
echo "1Ô∏è‚É£ GitLab Pipeline Status:"
curl -s "http://192.168.1.10/api/v4/projects/root%2Fssl-monitor-pro/pipelines?per_page=1" \
  -H "PRIVATE-TOKEN: $GITLAB_TOKEN" | jq '.[0] | {status, created_at}'

# 2. Production Health
echo ""
echo "2Ô∏è‚É£ Production Health:"
curl -s https://ssl-monitor-api.onrender.com/health | jq '.'

# 3. Error Rate (from Sentry)
echo ""
echo "3Ô∏è‚É£ Error Rate (last 24h):"
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Sentry dashboard –≤—Ä—É—á–Ω—É—é

# 4. User Activity
echo ""
echo "4Ô∏è‚É£ Active Users (last 24h):"
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å analytics dashboard

# 5. SSL Checks Count
echo ""
echo "5Ô∏è‚É£ SSL Checks Performed:"
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å database metrics

echo ""
echo "‚úÖ Daily check complete"
```

**–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:**

| –ú–µ—Ç—Ä–∏–∫–∞ | Target | –î–Ω–∏ 1-3 | –î–Ω–∏ 4-7 |
|---------|--------|---------|---------|
| Pipeline Success Rate | >95% | ___% | ___% |
| API Response Time | <200ms | ___ms | ___ms |
| Error Rate | <0.1% | ___% | ___% |
| Uptime | >99.9% | ___% | ___% |
| Deploy Time | <10min | ___min | ___min |

### Week 2-4: Stabilization

**Weekly Review Checklist:**

- [ ] **Week 2 Review**
  - [ ] No critical incidents
  - [ ] All metrics within targets
  - [ ] User feedback collected
  - [ ] Team comfortable with GitLab

- [ ] **Week 3 Review**
  - [ ] Performance stable
  - [ ] CI/CD optimized
  - [ ] Documentation complete
  - [ ] Training completed

- [ ] **Week 4 Review**
  - [ ] Migration officially complete
  - [ ] GitHub backup archived
  - [ ] Lessons learned documented
  - [ ] Success metrics published

---

## üö® TROUBLESHOOTING

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Pipeline fails –Ω–∞ GitLab

**–°–∏–º–ø—Ç–æ–º—ã:**
- Pipeline fails –Ω–∞ stage `test` –∏–ª–∏ `build`
- Errors –≤ logs

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å logs –≤ GitLab
# CI/CD ‚Üí Pipelines ‚Üí Failed Pipeline ‚Üí Job Logs

# 2. –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
# a) Missing environment variables
echo "Check: Settings ‚Üí CI/CD ‚Üí Variables"

# b) Docker build fails
echo "Check: Dockerfile syntax and dependencies"

# c) Tests fail
echo "Check: Test database connection and fixtures"

# 3. –õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç
# –ó–∞–ø—É—Å—Ç–∏—Ç—å pipeline locally —Å gitlab-runner
gitlab-runner exec docker backend-tests
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Render.com –Ω–µ –¥–µ–ø–ª–æ–∏—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- Deploy hook –≤—ã–∑–≤–∞–Ω, –Ω–æ deploy –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
- Render shows old code

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Deploy Hook URL
echo $RENDER_DEPLOY_HOOK_URL
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: https://api.render.com/deploy/srv-xxxxx?key=xxxxx

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ GitHub auto-deploy –≤—ã–∫–ª—é—á–µ–Ω
# Render Dashboard ‚Üí Settings ‚Üí Auto-Deploy: OFF

# 3. Manual trigger
curl -X POST $RENDER_DEPLOY_HOOK_URL

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Render logs
# Render Dashboard ‚Üí Logs ‚Üí Deploy Logs
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Cloudflare Pages –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- GitLab pipeline —É—Å–ø–µ—à–µ–Ω, –Ω–æ frontend —Å—Ç–∞—Ä—ã–π
- Cloudflare shows old version

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Wrangler authentication
npx wrangler whoami

# 2. Manual deploy
cd frontend-modern
npm run build
npx wrangler pages publish dist --project-name=ssl-monitor-pro

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Cloudflare Cache
# Cloudflare Dashboard ‚Üí Caching ‚Üí Purge Everything

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitLab job logs
# CI/CD ‚Üí Pipelines ‚Üí deploy-frontend ‚Üí View Logs
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Webhooks –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
- Stripe/Telegram/Slack webhooks fail
- 404 or 500 errors

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend deployed
curl https://ssl-monitor-api.onrender.com/health

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook endpoints
curl https://ssl-monitor-api.onrender.com/api/v1/stripe/webhook
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 405 (Method Not Allowed) - —ç—Ç–æ OK –¥–ª—è GET

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook signatures
# –í backend logs –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å webhook events

# 4. Re-configure webhooks
# Stripe: Developers ‚Üí Webhooks ‚Üí Edit endpoint
# Telegram: /setWebhook command
# Slack: Event Subscriptions ‚Üí Re-verify URL
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 5: Environment Variables –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
- Backend errors: "Environment variable X not found"
- Features –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ GitLab
# Settings ‚Üí CI/CD ‚Üí Variables
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –í–°–ï –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ setup-gitlab-vars.sh

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ Render.com
# Service ‚Üí Environment ‚Üí Environment Variables
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

# 3. Re-deploy —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
curl -X POST $RENDER_DEPLOY_HOOK_URL

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å logs
# Render Dashboard ‚Üí Logs
# –ò—Å–∫–∞—Ç—å: "Loading environment variables"
```

---

## üìù –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢

**–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å GitHub –ø–æ–ª–Ω–æ—Å—Ç—å—é:**

- [ ] ‚úÖ GitLab —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ 30+ –¥–Ω–µ–π
- [ ] ‚úÖ –í—Å–µ metrics –≤ –Ω–æ—Ä–º–µ (uptime, errors, performance)
- [ ] ‚úÖ Zero critical incidents –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –Ω–µ–¥–µ–ª–∏
- [ ] ‚úÖ –í—Å–µ stakeholders —É–≤–µ–¥–æ–º–ª–µ–Ω—ã –∏ —Å–æ–≥–ª–∞—Å–Ω—ã
- [ ] ‚úÖ Backup GitHub —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω (restore test)
- [ ] ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] ‚úÖ Team –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å GitLab
- [ ] ‚úÖ Rollback plan –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] ‚úÖ Monitoring –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] ‚úÖ –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] ‚úÖ Users –Ω–µ –∏—Å–ø—ã—Ç—ã–≤–∞—é—Ç –ø—Ä–æ–±–ª–µ–º
- [ ] ‚úÖ Performance –ª—É—á—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–∞ GitHub setup

**–ö–æ–≥–¥–∞ –í–°–ï –ø—É–Ω–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π backup
./scripts/final-backup.sh

# 2. Archive GitHub repository
gh repo archive root/ssl-monitor-pro

# 3. Update README
echo "‚úÖ Repository archived. New home: GitLab" > README.md
git -C backup-github-ssl-monitor add README.md
git -C backup-github-ssl-monitor commit -m "Archive repository"
git -C backup-github-ssl-monitor push origin main

# 4. Send notifications
echo "üéâ GitHub ‚Üí GitLab migration complete!"
# Notify team, users, stakeholders
```

---

## üéâ SUCCESS CRITERIA

**–ú–∏–≥—Ä–∞—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ–π –µ—Å–ª–∏:**

1. **Technical:**
   - ‚úÖ GitLab CI/CD pipeline —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
   - ‚úÖ –í—Å–µ deploys —É—Å–ø–µ—à–Ω—ã (backend + frontend)
   - ‚úÖ Zero downtime –≤–æ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏
   - ‚úÖ –í—Å–µ integrations —Ä–∞–±–æ—Ç–∞—é—Ç (Stripe, Telegram, Slack)
   - ‚úÖ Performance —Ä–∞–≤–Ω–∞ –∏–ª–∏ –ª—É—á—à–µ GitHub

2. **Operational:**
   - ‚úÖ Team –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å GitLab –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
   - ‚úÖ Deploy –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–Ω—è—Ç–µ–Ω –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
   - ‚úÖ Monitoring –∏ alerting –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - ‚úÖ Incident response plan –≥–æ—Ç–æ–≤

3. **Business:**
   - ‚úÖ Zero user complaints
   - ‚úÖ No service disruption
   - ‚úÖ All features —Ä–∞–±–æ—Ç–∞—é—Ç
   - ‚úÖ Payments processing normally
   - ‚úÖ SSL monitoring uninterrupted

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **GitLab CI/CD:** https://docs.gitlab.com/ee/ci/
- **Render.com Webhooks:** https://render.com/docs/deploy-hooks
- **Cloudflare Pages:** https://developers.cloudflare.com/pages/
- **Wrangler CLI:** https://developers.cloudflare.com/workers/wrangler/

### –°–∫—Ä–∏–ø—Ç—ã

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:
```
scripts/
‚îú‚îÄ‚îÄ setup-gitlab-vars.sh       # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitLab Variables
‚îú‚îÄ‚îÄ setup-render.sh            # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Render.com
‚îú‚îÄ‚îÄ smoke-tests.sh             # Smoke tests production
‚îú‚îÄ‚îÄ rollback-to-github.sh      # Rollback plan
‚îú‚îÄ‚îÄ update-links.sh            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
‚îú‚îÄ‚îÄ daily-health-check.sh      # –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
‚îî‚îÄ‚îÄ final-backup.sh            # –§–∏–Ω–∞–ª—å–Ω—ã–π backup
```

### Contacts

**–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:**
- GitLab Support: http://192.168.1.10/help
- Render Support: https://render.com/support
- Cloudflare Support: https://support.cloudflare.com
- Team Lead: [your-email@example.com]

---

## ‚úÖ –ì–û–¢–û–í–´ –ö –ú–ò–ì–†–ê–¶–ò–ò?

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:**

```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
./scripts/migration-readiness-check.sh
```

**–ï—Å–ª–∏ –≥–æ—Ç–æ–≤—ã:**

```bash
# 1. –ó–∞–ø–æ–ª–Ω–∏—Ç—å .migration-secrets —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å: ./scripts/setup-gitlab-vars.sh
# 3. –°–ª–µ–¥–æ–≤–∞—Ç—å Phase 1-5 –∏–∑ —ç—Ç–æ–≥–æ –≥–∞–π–¥–∞
```
